<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://unpkg.com/vuex@3/dist/vuex.js"></script>
    
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' ;
    img-src      'self' 'unsafe-inline' https://*.hubdevendas.com;
    style-src     'self' 'unsafe-inline' https://fonts.googleapis.com;
    script-src    'self' 'unsafe-inline' https://cdn.jsdelivr.net https://unpkg.com *.hubdevendas.com;
    connect-src    'self'
                   https://*.hubdevendas.com;
    child-src 'self' https://*.hubdevendas.com;
                     object-src 'self';">


    <title>
      external order tst
    </title>
  </head>


  <body>
    <div class="container" style="display: flex;  gap: 20px; padding: 5rem;">
      <div
        id="item"
        class="items"
         style="background-color: blue; border: 1px solid red; border-radius: 8px; cursor: pointer; width: 200px; height: 250px; display: flex;flex-direction: column; gap: 1rem;align-items: center; justify-content: center;color: white; font-weight: bold;"  
      >
        <span>plano 1</span>

        R$ 11,11
      </div>
      <div
      id="item"
      class="items"
       style="background-color: blue; border: 1px solid red; border-radius: 8px; cursor: pointer; width: 200px; height: 250px; display: flex;flex-direction: column; gap: 1rem;align-items: center; justify-content: center;color: white; font-weight: bold;"  
    >
      <span>mega 100mb</span>

      R$ 00,90
    </div>
    <div
    id="item"
    class="items"
    style="background-color: blue; border: 1px solid red; border-radius: 8px; cursor: pointer; width: 200px; height: 250px; display: flex;flex-direction: column; gap: 1rem;align-items: center; justify-content: center;color: white; font-weight: bold;" 
  >
    <span>300 mega</span>

    R$ 250,00
  </div>
    </div>
  </body>
</html>

<script src="https://beta.hubdevendas.com/external-order/external-order.umd.js?client-key=key-cabonnet"></script>

<script>
  // const foo = document.getElementById("item");
  // foo.addEventListener("click", () => {
  //   window.externalOrder.startOrderByPlan("mega")
  // })

  const foos = document.querySelectorAll('.items')

  foos.forEach(item => {
    item.addEventListener('click', () => {
      const val = item.querySelector('span')
      console.log('val: ', val.innerHTML)
      window.externalOrder.startOrderByPlan(val.innerHTML)
    })
  })


  // val.forEach(el => {      
  //     el.addEventListener('click', () => {
  //       console.log('el: ', el.innerHTML)
  //       window.externalOrder.startOrderByPlan(el.innerHTML)
  //     })
  //   });
</script>
